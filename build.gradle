buildscript {
    repositories {
        mavenCentral()
        maven { 
            url "https://plugins.gradle.org/m2/" 
        }			
    }
    dependencies {
        classpath("gradle.plugin.com.palantir.gradle.gitversion:gradle-git-version:0.10.1")		
    }
}

apply plugin: 'com.palantir.git-version'

allprojects {
    group 'ch.so.agi'
    version '1.0.5'

    if (findProperty('release') == null) {
        def details = versionDetails()
        project.version += "-"+details.gitHash
    }
    
    repositories {
        mavenLocal()
        maven {
            url "http://jars.interlis.ch"
        }
        maven {
            url "http://download.osgeo.org/webdav/geotools/"
        }
        mavenCentral()
    }
}

task fubar() {
    doLast {
        println version
        println findProperty('release')
    }
}